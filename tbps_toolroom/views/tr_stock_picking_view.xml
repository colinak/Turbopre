<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>
    
    <!--view search of operations-->
    <record id="view_tr_stock_picking_search" model="ir.ui.view">
      <field name="name">tr.stock.picking.search</field>
      <field name="model">stock.picking</field>
      <field name="type">search</field>
      <field name="arch" type="xml">
        <search string="Toolroom operations">
          <field string="Nombre" name="name"/>
        </search>
      </field>
    </record>

    <!--view form of operations-->
    <record id="view_tr_stock_picking_from" model="ir.ui.view">
      <field name="name">tr.stock.picking.form</field>
      <field name="model">stock.picking</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Toolroom Movimientos">
          <!--<field name="active" invisible="1"/>-->
          <field name="name" invisible="1"/>
          <field name="is_locked" invisible="1"/>
          <field name="show_mark_as_todo" invisible="1"/>
          <field name="show_check_availability" invisible="1"/>
          <field name="show_validate" invisible="1"/>
          <field name="show_lots_text" invisible="1"/>
          <field name="immediate_transfer" invisible="1"/>
          <field name="picking_type_code" invisible="1"/>
          <field name="hide_picking_type" invisible="1"/>
          <field name="show_operations" invisible="1" readonly="1"/>
          <field name="show_reserved" invisible="1" readonly="1"/>
          <field name="move_line_exist" invisible="1"/>
          <field name="has_packages" invisible="1"/>
          <field name="picking_type_entire_packs" invisible="1"/>
          <field name="use_create_lots" invisible="1"/>
          <!--<widget name="web_ribbon" title="Archivado" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>-->
          <header>
            <field name="state" widget="statusbar" statusbar_visible="draft,confirmed,assigned,done"/>
          </header>
          <sheet>
            <group col="4">
              <field name="employee_id"/>
              <field name="picking_type_id" />
              <!--<field name="location_id" />-->
              <!--<field name="location_dest_id" />-->
              <!--<field name="backorder_id" attrs="{'invisible': [('backorder_id','=',False)]}"/>-->
              <!--<field name=""/>-->
              <!--<field name="picking_type_id" attrs="{'invisible': [('hide_picking_type', '=', True)], 'readonly': [('state', '!=', 'draft')]}"/>--> 
              <!--<field name="location_id" options="{'no_create': True}" groups="stock.group_stock_multi_locations" attrs="{'invisible': [('picking_type_code', '=', 'incoming')]}"/> <field name="location_dest_id" options="{'no_create': True}" groups="stock.group_stock_multi_locations" attrs="{'invisible': [('picking_type_code', '=', 'outgoing')]}"/>-->
            </group>
            <group>
              <!--<page string="Operations" name="operations">-->
                <field name="move_ids_without_package" />
                  <!--mode="tree,kanban"-->
                    <!--attrs="{'readonly': ['&amp;', ('state', '=', 'done'), ('is_locked', '=', True)]}"-->
                    <!--context="{'default_company_id': company_id, 'default_date': scheduled_date, 'default_date_deadline': date_deadline, 'picking_type_code': picking_type_code, 'default_picking_id': id, 'form_view_ref':'stock.view_move_form', 'address_in_id': partner_id, 'default_picking_type_id': picking_type_id, 'default_location_id': location_id, 'default_location_dest_id': location_dest_id, 'default_partner_id': partner_id}"-->
                    <!--add-label="Add a Product">-->
                                <!--<form string="Stock Moves">-->
                                    <!--<header>-->
                                        <!--<field name="state" widget="statusbar"/>-->
                                    <!--</header>-->
                                    <!--<group>-->
                                        <!--<field name="product_uom_category_id" invisible="1"/>-->
                                        <!--<field name="additional" invisible="1"/>-->
                                        <!--<field name="move_lines_count" invisible="1"/>-->
                                        <!--<field name="company_id" invisible="1"/>-->
                                        <!--<field name="product_id" required="1" attrs="{'readonly': ['|', '&amp;', ('state', '!=', 'draft'), ('additional', '=', False), ('move_lines_count', '&gt;', 0)]}"/>-->
                                        <!--<field name="is_initial_demand_editable" invisible="1"/>-->
                                        <!--<field name="is_quantity_done_editable" invisible="1"/>-->
                                        <!--<field name="product_uom_qty" attrs="{'invisible': [('parent.immediate_transfer', '=', True)], 'readonly': [('is_initial_demand_editable', '=', False)]}"/>-->
                                        <!--<field name="reserved_availability" string="Reserved" attrs="{'invisible': (['|','|', ('parent.state','=', 'done'), ('parent.picking_type_code', 'in', ['outgoing', 'incoming']), ('parent.immediate_transfer', '=', True)])}"/>-->
                                        <!--<field name="product_qty" invisible="1" readonly="1"/>-->
                                        <!--<field name="forecast_expected_date" invisible="1"/>-->
                                        <!--<field name="forecast_availability" string="Reserved" attrs="{'invisible': ['|', ('parent.picking_type_code', '!=', 'outgoing'), ('parent.state','=', 'done')]}" widget="forecast_widget"/>-->
                                        <!--<field name="quantity_done" string="Done" attrs="{'readonly': [('is_quantity_done_editable', '=', False)]}"/>-->
                                        <!--<field name="product_uom" attrs="{'readonly': [('state', '!=', 'draft'), ('id', '!=', False)]}" options="{'no_open': True, 'no_create': True}" string="Unit of Measure" groups="uom.group_uom"/>-->
                                        <!--<field name="description_picking" string="Description"/>-->
                                    <!--</group>-->
                                <!--</form>-->
                            <!--</field>-->
                            <!--<field name="id" invisible="1"/>-->
                            <!--<field name="package_level_ids" context="{'default_location_id': location_id, 'default_location_dest_id': location_dest_id, 'default_company_id': company_id}" attrs="{'readonly': [('state', '=', 'done')], 'invisible': ['|', ('picking_type_entire_packs', '=', False), ('show_operations', '=', True)]}" />-->
                            <!--<button class="oe_highlight" name="action_put_in_pack" type="object" string="Put in Pack" attrs="{'invisible': [('state', 'in', ('draft', 'done', 'cancel'))]}" groups="stock.group_tracking_lot" data-hotkey="shift+g"/>-->
              <!--</page>-->


            </group>
          </sheet>
        </form>
      </field>
    </record>

ta   <!--view tree of operations-->
    <record id="view_tr_stock_picking_tree" model="ir.ui.view">
      <field name="name">tr.stock.picking.tree</field>
      <field name="model">stock.picking</field>
      <field name="type">tree</field>
      <field name="arch" type="xml">
        <tree string="Toolroom Warehouse">
          <field name="name" string="Name" />
          <field name="location_id" string="Desde" />
          <field name="location_dest_id" string="Hasta" />
          <!--<field name="employee_id" string="Empleado" />-->
          <field name="state" string="Estado" />
        </tree>
      </field>
    </record>


    <!--view action of operations-->
    <record id="action_tr_stock_picking" model="ir.actions.act_window">
      <field name="name">Prestamos</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">stock.picking</field>
      <field name="view_mode">tree,form</field>
      <field name="view_id" ref="view_tr_stock_picking_tree" />
      <field name="help" type="html">
        <p class="o_view_nocontent_smiling_face">
          Create New Operaci√≥n
        </p>
      </field>
    </record>


    <record id="tr_stock_picking_action_tree_view" model="ir.actions.act_window.view">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="view_tr_stock_picking_tree"/>
      <field name="act_window_id" ref="action_tr_stock_picking"/>
    </record>
    <record id="tr_stock_picking_action_form_view" model="ir.actions.act_window.view">
      <field eval="2" name="sequence"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="view_tr_stock_picking_from"/>
      <field name="act_window_id" ref="action_tr_stock_picking"/>
    </record>
  
    <menuitem 
      id="menu_tr_stock_picking"
      name="Prestamos y Movimientos"
      parent="tbps_toolroom.menu_operations"
      action="tbps_toolroom.action_tr_stock_picking"
      sequence="2"
      groups="base.group_system"
    />
  </data>
</odoo>
